<!doctype html>
<html>
<head>
    <meta charset="utf-8">
	<meta name="Generator" content="">
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<title>标题</title>
	<style type="text/css">
	    *{margin:0;padding:0;font-family:"Microsoft YaHei"}
		img{border:0;}
		ul li,ol li{list-style:none;}
		li a, dt a, dd a{text-decoration:none;}
		body{background:url(images/bg.jpg) center;}
		
		img.bg{
		    position:fixed;left:45%;top:0px;-webkit-animation:bg 5s ease-in-out infinite;
		}
		@-webkit-keyframes bg{
			0%{-webkit-transform:rotate(30deg);-webkit-transform-origin:center top;}
			50%{-webkit-transform:rotate(-30deg);-webkit-transform-origin:center top;}
			100%{-webkit-transform:rotate(30deg);-webkit-transform-origin:center top;}
		}
		.gray{
		    width:100%;height:100%;background:rgba(0,0,0,0.1);position:fixed;
			left:0;top:0;
		}
		.con{width:560px;height:30px;background:#cf6;position:fixed;left:50%;bottom:30px;margin-left:-280px;}
		.con span.col{
		    width:80px;height:100%;background:#f3f3f3;display:block;float:left;line-height:30px;
			text-indent:10px;cursor:pointer;
		}
		.con p.txt{
		    width:400px;height:30px;background:#fff;float:left;border:0px;line-height:30px;
		}
		.con span.but{
		    width:80px;height:30px;background:#f4354b;display:block;float:left;font-size:12px;color:#fff;text-align:center;
			line-height:30px;border-radius:0 4px 4px 0;
		}
		.con .col font, .con ul li font{width:10px;height:10px;display:block;background:red;position:absolute;
		    top:9px;left:50px;border:1px solid black;}
		.con ul{
		    width:80px;position:absolute;bottom:30px;left:0;display:none;overflow:hidden;
			cursor:pointer;
		}
		.con ul li{
		    width:80px;height:30px;font-size:12px;line-height:30px;text-indent:10px;
			background:#f3f3f3;position:relative;
		}
		.text{
		    width:1000px;height:450px;margin:0 auto;padding-top:150px;text-align:center;
		}
	</style>
</head>
<body>
    <img src='images/xx.png' class='bg' />
    <div id='' class='gray'>
	    <div class='con'>
		    <span class='col'>颜色<font data-color='red'></font></span>
		    <p class='txt' contenteditable='true'></p>
			<span class='but'>清空再写</span>
			<ul>
			    <li>黄色<font style='background:#ff0;' data-color='#ff0'></font></li>
			    <li>红色<font style='background:#f33;' data-color='#f33'></font></li>
			    <li>青色<font style='background:#cf6;' data-color='#cf6'></font></li>
			    <li>白色<font style='background:#fff;' data-color='#fff'></font></li>
			    <li>绿色<font style='background:#3f3;' data-color='#3f3'></font></li>
			    <li>紫色<font style='background:#93c;' data-color='#93c'></font></li>
			</ul>
		</div>
	</div>
	<div class='text'></div>
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/snowfall.jquery.js"></script>
	<script>
	    $(function() {
		    $('.col').click(function(){
			    $('.con ul').slideToggle();
			});
			$('.con ul li').click(function() {
			    var color = $(this).find('font').data('color');
			    $('.con .col font').css('background', color).data('color', color);
			    $('.con ul').slideToggle();
			});
			$('.but').click(function() {
			    sendMessage();
			});
			
			$('p.txt').keyup(function(e) {
			    sendMessage(e);
			});
			var arr = [];
			function sendMessage(e) {
				var col = $('.con .col font').data('color');
				var txt = '<span style="color:' + col + '">' + arr.join('') + $('p.txt').text() + '</span>'
				if(e && e.keyCode == 13 || !e){
				    $(this).empty();
					arr.push('<p><span style="color:' + col + '">' + $('p.txt').text() + '</span></p>');
					$('p.txt').empty();
					txt = arr.join('');
				}
				$('.text').html(txt);
			}
			
			$(document).snowfall('clear');
			$(document).snowfall({
			    image: 'images/huaban.png',
				flakeCount:30,
				minSize:5,
				maxSize:22
			});
		});
	</script>
</body>
</html>
